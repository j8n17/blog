## API란 무엇인가?

API는 **Application Programming Interface**의 약자로, 소프트웨어 애플리케이션 간에 서로 상호 작용할 수 있도록 하는 규칙과 프로토콜의 집합이다. 즉, 프로그램들이 서로 소통하기 위한 '언어' 또는 '접점'이라고 생각할 수 있다.

API를 통해 개발자는 다른 소프트웨어의 기능을 가져와 자신의 애플리케이션에 통합할 수 있다. 이를 통해 개발 생산성을 높이고, 이미 검증된 기능을 재사용하여 안정성을 확보할 수 있다.

예를 들어, 지도 앱의 기능을 내 앱에 추가하고 싶을 때, 지도 서비스 제공 업체가 제공하는 API를 사용하면 직접 지도 기능을 개발하지 않고도 쉽게 구현할 수 있다.

---

## API 요청 · 응답 흐름 개요

API 통신은 기본적으로 **요청(Request)** 과 **응답(Response)** 의 흐름으로 이루어진다.

1. **클라이언트(Client)**: API를 호출하여 특정 기능을 요청하는 측이다. (예: 웹 브라우저, 모바일 앱)
2. **서버(Server)**: API 요청을 받아 처리하고, 그 결과를 응답하는 측이다.
3. **요청(Request)**: 클라이언트가 서버에게 필요한 정보(예: 어떤 기능을 원하는지, 필요한 데이터는 무엇인지 등)를 담아 보낸다. 요청에는 보통 HTTP 메서드(GET, POST, PUT, DELETE 등), 엔드포인트(Endpoint) 주소, 헤더(Header), 본문(Body) 등이 포함된다.
4. **응답(Response)**: 서버는 클라이언트의 요청을 처리한 후, 그 결과를 클라이언트에게 돌려준다. 응답에는 보통 상태 코드(Status Code, 예: 200 OK, 404 Not Found, 500 Internal Server Error), 헤더, 본문(요청 처리 결과 데이터) 등이 포함된다.

이러한 요청-응답 과정을 통해 클라이언트와 서버는 필요한 정보를 주고받으며 상호작용한다.

---

## API 통신 스택 요소

API 통신의 주요 구성 요소는 다음과 같다.

### 통신 계층

클라이언트와 서버 간의 데이터 전송 방식을 정의한다.
* **HTTP/HTTPS**: 웹 기반 API에서 가장 널리 사용되는 프로토콜이다. 요청-응답 모델을 기반으로 하며, 다양한 HTTP 메서드(GET, POST, PUT, DELETE 등)를 통해 CRUD(Create, Read, Update, Delete) 연산을 표현한다. HTTPS는 보안 강화를 위해 SSL/TLS 암호화를 추가한 버전이다.
* **TCP/UDP**: 더 낮은 수준의 전송 계층 프로토콜로, 특정 고성능 요구사항이나 실시간 통신이 필요한 경우 직접 사용될 수 있다.
* **WebSocket**: 양방향 실시간 통신을 지원하는 프로토콜로, 채팅이나 실시간 데이터 업데이트 등에 사용된다.

### 아키텍처 스타일

API를 설계하고 구성하는 방식을 정의한다.
* **REST (Representational State Transfer)**: 자원(Resource)을 URI로 식별하고, HTTP 메서드를 통해 자원의 상태를 주고받는 아키텍처 스타일이다. Stateless하며, 확장성과 유연성이 높아 현대 웹 API의 표준처럼 사용된다.
* **SOAP (Simple Object Access Protocol)**: XML 기반의 메시지 프로토콜로, 주로 엔터프라이즈 환경에서 사용된다. 엄격한 표준과 보안 기능(WS-Security)을 제공하지만, REST에 비해 복잡하고 무겁다는 단점이 있다.
* **RPC (Remote Procedure Call)**: 원격에 있는 프로시저(함수)를 로컬 프로시저처럼 호출하는 방식이다. gRPC(Google RPC)는 HTTP/2와 Protocol Buffers를 사용하여 효율적인 RPC 통신을 제공하는 최신 프레임워크이다.
* **GraphQL**: Facebook에서 개발한 API용 쿼리 언어 및 런타임이다. 클라이언트가 필요한 데이터 구조를 직접 정의하여 요청할 수 있어, Over-fetching 및 Under-fetching 문제를 해결하고 효율적인 데이터 통신을 가능하게 한다.

### 데이터 직렬화 형식

API를 통해 교환되는 데이터의 형식을 정의한다.
* **JSON (JavaScript Object Notation)**: 사람이 읽기 쉽고 기계가 파싱하기 쉬운 텍스트 기반의 데이터 형식이다. 가볍고 유연하여 웹 API에서 가장 널리 사용된다.
* **XML (eXtensible Markup Language)**: 태그를 사용하여 데이터 구조를 표현하는 마크업 언어이다. 확장성이 좋고 표준화되어 있지만, JSON에 비해 장황하다는 단점이 있다. SOAP API에서 주로 사용된다.
* **Protocol Buffers (Protobuf)**: Google에서 개발한 이진(Binary) 직렬화 형식이다. 작고 빠르며, 스키마 기반으로 데이터 구조를 정의하여 타입 안전성을 보장한다. gRPC에서 주로 사용된다.
* **MessagePack**: JSON과 유사하지만 더 작고 빠른 이진 직렬화 형식이다.

API는 이러한 통신 계층, 아키텍처 스타일, 데이터 형식을 조합하여 특정 요구사항에 맞는 최적의 방식으로 구현된다.

---

## 대표 사용 사례

###### 외부 서비스 연동
* **결제 시스템 연동**: PG(Payment Gateway)사 API를 사용하여 쇼핑몰에 결제 기능을 추가한다. (예: Stripe, PayPal API)
* **지도 서비스 연동**: 지도 API를 사용하여 위치 기반 서비스를 구현한다. (예: Google Maps API, Kakao Maps API)
* **소셜 로그인 연동**: 소셜 미디어 API를 사용하여 간편 로그인 기능을 제공한다. (예: Google Login API, Facebook Login API)
* **데이터 분석 도구 연동**: 분석 도구 API를 사용하여 사용자 행동 데이터를 수집하고 분석한다. (예: Google Analytics API)

###### 내부 시스템 통합
* **마이크로서비스 아키텍처(MSA)**: 잘게 쪼개진 서비스들이 서로 API를 통해 통신하며 전체 시스템을 구성한다. 각 서비스는 독립적으로 개발, 배포, 확장이 가능하여 유연하고 확장성 높은 시스템 구축에 유리하다.
* **레거시 시스템 연동**: 기존 시스템(Legacy System)과 새로운 시스템 간의 데이터 교환 및 기능 연동을 위해 API를 사용한다.

###### 플랫폼 제공
* 자사의 핵심 기능을 API 형태로 외부에 제공하여 개발자들이 이를 활용한 새로운 서비스를 만들 수 있도록 지원한다. (예: 클라우드 서비스 API, 운영체제 API)

### 주요 아키텍처 패턴

* **API 게이트웨이(API Gateway)**: 여러 API 엔드포인트를 단일 진입점으로 통합하여 관리하는 패턴이다. 인증, 인가, 로깅, 로드 밸런싱, 캐싱 등의 공통 기능을 처리하여 백엔드 서비스의 복잡도를 낮춘다.
* **백엔드 포 프론트엔드(Backend for Frontend, BFF)**: 각 프론트엔드(웹, 모바일 앱 등)에 최적화된 별도의 백엔드(API)를 두는 패턴이다. 프론트엔드별 요구사항에 맞춰 데이터를 가공하고 조합하여 제공함으로써 프론트엔드 개발 효율성을 높인다.
